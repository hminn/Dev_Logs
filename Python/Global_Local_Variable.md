## Global_Local_Variable



### 지역 변수 (Local Variable)

> : 함수의 지역변수는 함수가 실행되는 동안에만 존재한다. 각 함수가 호출되어 실행될 때 만들어지고, 함수의 실행이 끝나면 모두 삭제된다. 그래서 지역변수는 그 변수가 속한 함수의 밖이나 다른 함수에서는 부를 수 없다. 매개변수도 함수 안에 정의되므로 지역변수다. 



### 개념 정리 

- **전역변수**: 함수 밖, 전역 이름공간에 정의된 변수
- **지역변수**: 함수 안, 지역 이름공간에 정의된 변수
- 지역변수는 그 변수가 정의된 함수 안에서만 읽을 수 있다.
- 전역변수는 프로그램 어디서든 읽을 수 있다. 단, 함수 안에서 전역변수에 새로운 값을 대입할 수는 없다. (*: global 문 사용시 가능)

|       특징       | 전역변수 | 지역변수 |
| :--------------: | :------: | :------: |
| 함수 안에서 읽기 |   가능   |   가능   |
| 함수 안에서 수정 | 불가(*)  |   가능   |
| 함수 밖에서 읽기 |   가능   |   불가   |
| 함수 밖에서 수정 |   가능   |   불가   |



### 개념 정리

- 지역변수를 이용해 그 데이터와 관련된 문제를 함수 내부의 문제로 국한시킬 수 있다.
- 전역변수를 함수 안에서 수정하는 것은 좋지 않다.





### ※ 함수 안에서 전역변수 수정하기

> 함수 안에서 전역변수를 수정할 수 없다. 다만, 꼭 필요하다면 global 문을 이용해 이 규칙을 어길 수 있다. global 문이 필요한 상황과 global 문을 사용하는 방법을 알아보자.

**코드 3-12** 함수 안에서 전역변수를 수정하려는 오류

```
num_stamp = 0  # 쿠폰 스탬프가 찍힌 횟수 (전역변수)

def stamp():
    """쿠폰 스탬프가 찍힌 횟수를 증가시키고, 화면에 출력한다."""
    num_stamp = num_stamp + 1  # ❶ 전역변수를 수정하려고 시도함
    print(num_stamp)
```

실행 결과:

```
UnboundLocalError: local variable 'num_stamp' referenced before assignment
```



#### global 문

global 문을 사용하면 함수 안에서도 전역변수의 값을 수정할 수 있다. 함수 안에서 `global 변수이름` 명령을 실행하면 그 이름이 전역변수임을 분명히 밝히게 되며, 그리고 전역변수의 값을 수정하는 것도 가능해진다. `stamp()` 함수에 global 문을 삽입해 수정해 보자.

**코드 3-13** global 문의 사용

```
num_stamp = 0  # 쿠폰 스탬프가 찍힌 횟수 (전역변수)

def stamp():
    """쿠폰 스탬프가 찍힌 횟수를 증가시키고, 화면에 출력한다."""
    global num_stamp           # ❶ num_stamp는 전역변수다
    num_stamp = num_stamp + 1  # 이제 오류가 발생하지 않는다
    print(num_stamp)

stamp()  # 화면에 1이 출력된다
stamp()  # 화면에 2가 출력된다
```

실행 결과:

```
1
2
```

❶의 global 문을 실행함으로써 함수 안에서도 함수 밖의 전역변수 `num_stamp`를 수정할 수 있게 되었다. 원래 의도한 함수를 만드는 데 성공했다.

#### global 문은 사용하지 않는 것이 좋다

global 문을 배웠지만, 역시 이 명령은 사용하지 않는 것이 좋다. global 문을 사용하는 것은 함수가 매개변수와 반환값을 이용해 외부와 소통하는 자연스러운 흐름을 깨트리는 일이다.

함수 안에서 전역변수를 수정하지 않고, 매개변수와 반환값만 이용하더라도 함수의 실행 결과를 누적하는 데 부족함이 없다.

